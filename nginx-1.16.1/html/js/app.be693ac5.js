(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],m=0,p=[];m<o.length;m++)s=o[m],a[s]&&p.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"159b":function(t,e,n){},"19ce":function(t,e,n){},2914:function(t,e,n){"use strict";var r=n("d852"),a=n.n(r);a.a},2953:function(t,e,n){"use strict";var r=n("159b"),a=n.n(r);a.a},"33eb":function(t,e,n){"use strict";var r=n("e376"),a=n.n(r);a.a},4268:function(t,e,n){},"4e3a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NotificationContainer"),n("router-view")],1)},i=[],s=(n("7514"),n("96cf"),n("3b8d")),o=n("cebc"),c=n("bc3a"),u=n.n(c),l=n("f121"),m=n.n(l),p=n("9dbb"),d=function(){if(!("indexedDB"in window))throw new Error("Browser does not support IndexedDB");return Object(p["openDb"])("ReimsDB",1,function(t){t.objectStoreNames.contains("offlineImages")||t.createObjectStore("offlineImages",{keyPath:"id"}),t.objectStoreNames.contains("offlineForms")||t.createObjectStore("offlineForms",{keyPath:"id"})})},f=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return n=t.sent,r=n.transaction(e,"readonly"),a=r.objectStore(e),t.abrupt("return",a.getAll());case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return r=t.sent,a=r.transaction(e,"readwrite"),i=a.objectStore(e),i.put(n),t.abrupt("return",a.complete);case 10:return t.prev=10,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:return n=t.sent,t.next=5,b(e);case 5:return r=t.sent,t.abrupt("return",n[r-1]);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return n=t.sent,r=n.transaction(e,"readonly"),a=r.objectStore(e),t.abrupt("return",a.getAllKeys());case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return r=t.sent,a=r.transaction(e,"readonly"),i=a.objectStore(e),t.abrupt("return",i.get(n));case 9:t.prev=9,t.t0=t["catch"](0),console.log("File Not Found");case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return n=t.sent,r=n.transaction(e,"readonly"),a=r.objectStore(e),t.abrupt("return",a.count());case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return n=t.sent,r=n.transaction(e,"readwrite"),a=r.objectStore(e),t.next=8,a.clear(e);case 8:return t.abrupt("return",r.complete);case 11:return t.prev=11,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return r=t.sent,a=r.transaction(e,"readwrite"),i=a.objectStore(e),console.log("delete idb storename "+e+" with key "+n),t.next=9,i.delete(n);case 9:return t.abrupt("return",a.complete);case 12:return t.prev=12,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e,n){return t.apply(this,arguments)}}(),w={findDatabyKey:g,getAllData:f,saveData:v,getLastIndexData:h,deleteAllData:C,deleteDataByKey:y},T=n("2f62"),$={setImage:function(t,e){var n=t.commit;n("SET_IMAGE",e)},setOCRResultType:function(t,e){var n=t.commit;n("SET_OCR_RESULT_TYPE",e)},setFormEmpty:function(t,e){var n=t.commit;n("SET_OCR_RESULT",e)},createTransaction:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootState,i=a.auth.token,s=a.auth.id,t.next=5,ot.createTransaction(n,i);case 5:o=t.sent,c=o.data,r("SET_OCR_RESULT",c),r("SET_OCR_RESULT_TYPE",c.data.category),r("ADD_IMAGE_FUEL",c.data.image),r("ADD_IMAGE_PARKING",c.data.image),r("ADD_USER_ID_FUEL",s),r("ADD_USER_ID_PARKING",s);case 13:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),getTransaction:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootState,i=a.auth.token,t.next=4,ot.getTransaction(n,i);case 4:s=t.sent,o=s.data,r("SET_TRANSACTION",o);case 7:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),getTransactions:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootState,i=a.auth.token,t.next=4,ot.getTransactions(n,i);case 4:s=t.sent,o=s.data,r("SET_TRANSACTIONS",o),r("SET_PAGINATION",o);case 8:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),saveTransaction:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,a=r.auth.token,t.next=4,ot.saveTransaction(n,a);case 4:return i=t.sent,s=i.data,t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),deleteTransaction:function(t,e){var n=t.commit,r=t.rootState;n("DELETE_TRANSACTION",e);var a=r.auth.token;ot.deleteTransaction(e,a)},getViewImage:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootState,i=a.auth.token,t.next=4,ot.getViewImage(n,i);case 4:s=t.sent,o=s.data,r("SET_VIEW_IMAGE",o);case 7:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},k={SET_IMAGE:function(t,e){t.image=e},SET_OCR_RESULT:function(t,e){var n=e.data;t[n.category.toLowerCase()]=Object(o["a"])({},t[n.category.toLowerCase()],n)},SET_OCR_RESULT_TYPE:function(t,e){t.OCRResultType=e},ADD_IMAGE_FUEL:function(t,e){t.fuel.image=e},ADD_IMAGE_PARKING:function(t,e){t.parking.image=e},ADD_USER_ID_FUEL:function(t,e){t.fuel.userId=e},ADD_USER_ID_PARKING:function(t,e){t.parking.userId=e},SET_TRANSACTION:function(t,e){var n=e.data;t.transaction=n},SET_TRANSACTIONS:function(t,e){var n=e.data;t.transactions=n},SET_PAGINATION:function(t,e){var n=e.paging;t.pagination=n},SET_VIEW_IMAGE:function(t,e){var n=e.data;t.viewImage=n},DELETE_TRANSACTION:function(t,e){t.transactions=t.transactions.filter(function(t){return t.id!=e})}},O={transactions:function(t){return t.transactions||[]},transaction:function(t){return t.transaction},pagination:function(t){return t.pagination},image:function(t){return t.image},OCRResultType:function(t){return t.OCRResultType},parking:function(t){return t.parking},fuel:function(t){return t.fuel},viewImage:function(t){return t.viewImage}},x=!0,I={image:"",OCRResultType:"FUEL",parking:{category:"PARKING",date:"",out:"",amount:100,title:"",parkingType:"",license:"",location:"",hours:0,userId:"",image:""},fuel:{category:"FUEL",date:"",fuelType:"",liters:.01,amount:100,title:"",userId:"",image:""},transactions:[],transaction:{},pagination:{},viewImage:""},S={state:I,actions:$,mutations:k,getters:O,namespaced:x},E=m.a.api.users,D={getUser:function(t,e){var n=E.user;return u.a.get("".concat(n,"/").concat(t),{headers:{Authorization:e}})},getUsers:function(t,e){var n=E.user;return u.a.get(n,{params:t,headers:{Authorization:e}})},createUser:function(t,e){var n=E.user;return u.a.post(n,t,{headers:{Authorization:e}})},updateUser:function(t,e,n){var r=E.user;return u.a.put("".concat(r,"/").concat(t),e,{headers:{Authorization:n}})},deleteUser:function(t,e){var n=E.user;return u.a.delete("".concat(n,"/").concat(t),{headers:{Authorization:e}})},downloadPersonalReport:function(t,e){var n=E.report;return console.log(t),u.a.get(n,{params:t,headers:{Authorization:e}})},updatePersonalProfile:function(t,e){var n=E.personalUser;return u.a.put(n,t,{headers:{Authorization:e}})}},F={createUser:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,a=r.auth.token,t.next=4,D.createUser(n,a);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),emptyUser:function(t,e){var n=t.commit;n("SET_USER_EMPTY",e)},getUser:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootState,i=a.auth.token,t.next=4,D.getUser(n,i);case 4:s=t.sent,o=s.data,r("SET_USER",o);case 7:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),getUsers:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootState,i=a.auth.token,t.next=4,D.getUsers(n,i);case 4:s=t.sent,o=s.data,r("SET_USERS",o),r("SET_PAGINATION",o);case 8:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),updateUser:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,a=r.auth.token,t.next=4,D.updateUser(n.id,n,a);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),deleteUser:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootState,r("DELETE_USER",n),i=a.auth.token,s=D.deleteUser(n,i),t.abrupt("return",s);case 5:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),downloadPersonalReport:function(t,e){var n=t.rootState,r=n.auth.token;D.downloadPersonalReport(e,r)},updatePersonalProfile:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,a=r.auth.token,t.next=4,D.updatePersonalProfile(n,a);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},R={SET_USER:function(t,e){var n=e.data;t.user=n},SET_USERS:function(t,e){var n=e.data;t.users=n},SET_PAGINATION:function(t,e){var n=e.paging;t.pagination=n},SET_USER_EMPTY:function(t,e){t.user=e},DELETE_USER:function(t,e){t.users=t.users.filter(function(t){return t.id!=e})}},j={user:function(t){return t.user},users:function(t){return t.users},pagination:function(t){return t.pagination}},P=!0,A={users:[],user:{},pagination:{}},U={state:A,actions:F,mutations:R,getters:j,namespaced:P},N={addNotification:function(t,e){var n=t.commit;n("PUSH_NOTIFICATION",e)},removeNotification:function(t,e){var n=t.commit;n("DELETE_NOTIFICATION",e)}},q=1,L={PUSH_NOTIFICATION:function(t,e){t.notifications.push(Object(o["a"])({},e,{id:q++}))},DELETE_NOTIFICATION:function(t,e){t.notifications=t.notifications.filter(function(t){return t.id!==e.id})}},B={notifications:function(t){return t.notifications}},V=!0,z={notifications:[]},K={state:z,actions:N,mutations:L,getters:B,namespaced:V},M=(n("a481"),m.a.api.auth),G={login:function(t){var e=M.login;return u.a.post(e,t)},logout:function(t){var e=M.logout;return u.a.get(e,{headers:{authorization:t}})}},Y={login:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,G.login(n);case 3:a=t.sent,console.log(a),r("SET_TOKEN",a.headers.Authorization),r("SET_ROLE",a.data.role),r("SET_ID",a.data.id),r("SET_USERNAME",a.data.username);case 9:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootState,a=r.auth.token,t.next=4,G.logout(a);case 4:n("SET_ID",""),n("SET_ROLE",""),n("SET_TOKEN",""),n("SET_USERNAME","");case 8:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),updateToken:function(t,e){var n=t.commit;n("SET_TOKEN",e)}},W=new Date;W.setTime(W.getTime()+6048e5);var H=W.toGMTString(),X={SET_TOKEN:function(t,e){console.log("change token",e),document.cookie="token=".concat(e,";expires=").concat(H),t.token=e},SET_ID:function(t,e){document.cookie="id=".concat(e,";expires=").concat(H),t.id=e},SET_ROLE:function(t,e){document.cookie="role=".concat(e,";expires=").concat(H),t.role=e},SET_USERNAME:function(t,e){document.cookie="username=".concat(e,";expires=").concat(H),t.username=e}},J={id:function(t){return t.id},token:function(t){return t.token},role:function(t){return t.role},username:function(t){return t.username}},Q=!0,Z={id:document.cookie.replace(/(?:(?:^|.*;\s*)id\s*\=\s*([^;]*).*$)|^.*$/,"$1"),role:document.cookie.replace(/(?:(?:^|.*;\s*)role\s*\=\s*([^;]*).*$)|^.*$/,"$1"),token:document.cookie.replace(/(?:(?:^|.*;\s*)token\s*\=\s*([^;]*).*$)|^.*$/,"$1"),username:document.cookie.replace(/(?:(?:^|.*;\s*)username\s*\=\s*([^;]*).*$)|^.*$/,"$1")},tt={state:Z,actions:Y,mutations:X,getters:J,namespaced:Q};r["a"].use(T["a"]);var et=new T["a"].Store({modules:{transaction:S,user:U,auth:tt,notification:K}}),nt=et,rt="offlineImages",at="offlineForms",it={storeImageOffline:function(t){if(t.image){var e={id:Date.now(),userId:nt.state.auth.id,image:t.image};this.storeToIndexedDB(rt,e),this.throwError()}},storeFormOffline:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.id){t.next=8;break}return t.next=3,this.getLastIndexIDFromIndexedDB(rt);case 3:n=t.sent,console.log("id form from idb",n),r=Object(o["a"])({id:n},e,{userId:nt.state.auth.id}),this.storeToIndexedDB(at,r),this.throwError();case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),throwError:function(){return Promise.reject(new Error("Offline. Fail to send data to server"))},storeToIndexedDB:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.saveData(e,n);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),alert(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));function e(e,n){return t.apply(this,arguments)}return e}(),getLastIndexIDFromIndexedDB:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.getLastIndexData(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getAllDataFromIndexedDB:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.getAllData(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),deleteDataByKeyFromIndexedDB:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.deleteDataByKey(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),deleteLastDataFromIndexedDB:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=this,t.t1=e,t.next=4,this.getLastIndexIDFromIndexedDB(e);case 4:return t.t2=t.sent,t.next=7,t.t0.deleteDataByKeyFromIndexedDB.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),findDataByKeyFromIndexedDB:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.findDatabyKey(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},st=m.a.api.transactions,ot={getTransaction:function(t,e){var n=st.transaction;return u.a.get("".concat(n,"/").concat(t),{headers:{Authorization:e,"Access-Control-Allow-Origin":"*"}})},getTransactions:function(t,e){var n=st.transaction;return u.a.get(n,{params:t,headers:{Authorization:e,"Access-Control-Allow-Origin":"*"}})},createTransaction:function(t,e){if(this.isOnline()){var n=st.transaction;return u.a.post(n,t,{headers:{Authorization:e,"Access-Control-Allow-Origin":"*"}}).catch(function(){return it.storeImageOffline(t)})}return it.storeImageOffline(t)},saveTransaction:function(t,e){if(this.isOnline()){var n=st.transaction;return u.a.put(n,t,{headers:{Authorization:e,"Access-Control-Allow-Origin":"*"}}).catch(function(){return it.storeFormOffline(t)})}return it.storeFormOffline(t)},deleteTransaction:function(t,e){var n=st.transaction;return console.log("delete id :"+t),u.a.delete("".concat(n,"/").concat(t),{headers:{Authorization:e,"Access-Control-Allow-Origin":"*"}})},getViewImage:function(t,e){console.log(t);var n=st.transaction;return u.a.get("".concat(n,"/").concat(t),{headers:{Authorization:e,"Access-Control-Allow-Origin":"*"}})},isOnline:function(){return navigator.onLine}},ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-container"},t._l(t.notifications,function(t){return n("NotificationBar",{key:t.id,attrs:{notification:t}})}),1)},ut=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-bar",class:t.notificationTypeClass,attrs:{transition:"fade","enter-stagger":"50","leave-stagger":"0"}},[n("p",[t._v(t._s(t.notification.message))])])},mt=[],pt={data:function(){return{timeout:null}},mounted:function(){var t=this;this.timeout=setTimeout(function(){return t.removeNotification(t.notification)},5e3)},beforeDestroy:function(){clearTimeout(this.timeout)},props:{notification:{type:Object,required:!0}},computed:{notificationTypeClass:function(){return"-text-".concat(this.notification.type)}},methods:Object(T["b"])("notification",["removeNotification"])},dt=pt,ft=(n("97dc"),n("2877")),vt=Object(ft["a"])(dt,lt,mt,!1,null,null,null),ht=vt.exports,_t={components:{NotificationBar:ht},computed:Object(T["c"])("notification",["notifications"])},gt=_t,bt=Object(ft["a"])(gt,ct,ut,!1,null,"b00b21c0",null),Ct=bt.exports,yt="offlineImages",wt="offlineForms",Tt={name:"syncTransactions",data:function(){return{isSending:!1,interval:null}},components:{NotificationContainer:Ct},methods:Object(o["a"])({},Object(T["b"])("transaction",["createTransaction","getTransactions"]),Object(T["b"])("notification",["addNotification"]),{checkConnectivityStatus:function(){var t=this;this.interval=setInterval(function(){navigator.onLine&&!t.isSending&&t.checkDataInIDB()},1e4)},setSendingData:function(t){this.isSending=t},checkDataInIDB:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.getAllDataFromIndexedDB(yt).then(function(t){return t.filter(function(t){return t.userId==r.id})});case 2:return e=t.sent,t.next=5,it.getAllDataFromIndexedDB(wt).then(function(t){return t.filter(function(t){return t.userId==r.id})});case 5:n=t.sent,e.length>0||n.length>0?(this.setSendingData(!0),this.sendDataToServer(e,n)):this.setSendingData(!1);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),sendDataToServer:function(t,e){t.length>0&&e.length>0?this.sendImageAndFormToServer(t,0):t.length>0&&!e.length>0?this.sendOnlyImageToServer(t[0]):!t.length>0&&e.length>0&&this.sendOnlyFormToServer(e[0])},checkImagesByUserId:function(t){var e=this;return t.find(function(t){return t.userId==e.id})},checkFormsByUserId:function(t){var e=this;return t.find(function(t){return t.userId==e.id})},sendOnlyFormToServer:function(t){var e=this;ot.saveTransaction(t,this.token).then(function(){it.deleteDataByKeyFromIndexedDB(wt,t.id).then(function(){e.getTransactions(),e.addSuccessFormNotification(),e.setSendingData(!1)})})},sendOnlyImageToServer:function(t){var e=this;this.createTransaction(this.sendImageObject(t),this.token).then(function(){it.deleteDataByKeyFromIndexedDB(yt,t.id).then(function(){e.addSuccessImageNotification(),e.setSendingData(!1)})})},sendImageAndFormToServer:function(t,e){var n=this;e+1>t.length||ot.createTransaction(this.sendImageObject(t[e]),this.token).then(function(r){it.deleteDataByKeyFromIndexedDB(yt,t[e].id),n.sendFormAfterImageToServer(t[e].id,r,{success:function(){n.sendImageAndFormToServer(t,e+1)}})})},sendImageObject:function(t){return{image:t.image}},findFormByImageID:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.findDataByKeyFromIndexedDB(wt,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),sendFormAfterImageToServer:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,r){var a,i,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=r.success,t.next=3,this.findFormByImageID(e);case 3:i=t.sent,i.image=n.data.data.image,console.log("before send",i),ot.saveTransaction(i,this.token).then(function(t){return console.log("put trans",t),s.getTransactions(),it.deleteDataByKeyFromIndexedDB(wt,e),s.addSuccessImageNotification(),s.addSuccessFormNotification(),s.setSendingData(!1),a(),t});case 7:case"end":return t.stop()}},t,this)}));function e(e,n,r){return t.apply(this,arguments)}return e}(),addSuccessFormNotification:function(){var t={type:"success",message:"You're back online. Your form has been submitted."};this.addNotification(t)},addSuccessImageNotification:function(){var t={type:"success",message:"You're back online. Your image has been submitted."};this.addNotification(t)}}),computed:Object(o["a"])({},Object(T["c"])("auth",["token","id"])),created:function(){this.checkConnectivityStatus()},beforeDestroy:function(){clearTimeout(this.interval)}},$t=Tt,kt=(n("5c0b"),Object(ft["a"])($t,a,i,!1,null,null,null)),Ot=kt.exports,xt=n("8c4f"),It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"login__container"},[t._m(0),n("p",{staticClass:"login__slogan"},[t._v("Make Reimbursement Reporting Become Easier")]),n("form",{staticClass:"login__form",on:{submit:function(e){return e.preventDefault(),t.submitLoginForm(e)}}},[n("div",{staticClass:"\n      login__input"},[n("label",{staticClass:"title--medium-form",attrs:{for:"username"}},[t._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text",name:"username",id:"login__username",autocomplete:"off"},domProps:{value:t.user.username},on:{blur:function(e){return t.$v.user.username.$touch()},input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t.$v.user.username.$error?n("div",[t.$v.user.username.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Username must be filled\n          ")])]):t._e()]),n("div",{staticClass:"login__input"},[n("label",{staticClass:"title--medium-form",attrs:{for:"password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",id:"login__password"},domProps:{value:t.user.password},on:{blur:function(e){return t.$v.user.password.$touch()},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t.$v.user.password.$error?n("div",[t.$v.user.password.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Password must be filled\n          ")])]):t._e(),t.$v.user.password.$error?n("div",[t.$v.user.password.minLength?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Password must have at least 6 characters\n          ")])]):t._e()]),t._m(1)])])])},St=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login__logo"},[r("img",{staticClass:"logo__big",attrs:{src:n("9d64")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login__button"},[n("input",{staticClass:"btn-white",attrs:{type:"submit",value:"Login"}})])}],Et=n("b5ae"),Dt={ADMIN:"user",USER:"home"},Ft={validations:{user:{username:{required:Et["required"]},password:{required:Et["required"],minLength:Object(Et["minLength"])(6)}}},data:function(){return{user:{username:"",password:""},access:{ADMIN:"user",USER:"home"}}},computed:Object(T["c"])("auth",["role"]),methods:Object(o["a"])({},Object(T["b"])("auth",["login"]),{submitLoginForm:function(){var t=this;this.$v.user.$touch(),this.$v.user.$invalid?console.log("error"):this.login(this.user).then(function(){t.$router.push({name:Dt[t.role]})})}})},Rt=Ft,jt=(n("8c83"),Object(ft["a"])(Rt,It,St,!1,null,null,null)),Pt=jt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("header",{staticClass:"home__header"},[n("div",{staticClass:"home__header__upper"},[t._m(0),n("div",{staticClass:"home__header__upper__right"},[n("div",{staticClass:"home__header__nav__password",on:{click:function(e){return t.moveTo("edit-profile")}}},[t._v("\n          Edit Profile\n        ")]),n("div",{staticClass:"home__header__nav__logout",on:{click:t.doLogout}},[t._v("\n          Logout\n        ")])])]),n("div",{staticClass:"home__header__footer"},[n("div",{staticClass:"home__header__footer__container"},[n("div",{staticClass:"heading home__header__footer__heading"},[t._v("\n          Make Reimbursement Reporting Become Easier\n        ")]),n("div",{staticClass:"home__header__footer__button"},[n("input",{attrs:{id:"file",type:"file",name:"file"},on:{change:t.onFileChange}}),n("label",{staticClass:"btn-white",attrs:{for:"file"}},[t._v("\n            Upload Receipt\n          ")])])])])]),n("TransactionList",{attrs:{transactions:t.transactions},on:{openFilter:t.toogleFilter,updateTransactions:t.updateTransaction,downloadReport:t.download}}),n("Pagination",{attrs:{paging:t.pagination},on:{changePage:t.changePage}}),n("SortFilter",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}],on:{closeFilter:t.toogleFilter}})],1)},Ut=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home__header__upper__left"},[r("img",{staticClass:"logo__small",attrs:{src:n("9d64")}})])}],Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transaction"},[n("div",{staticClass:"heading transaction__heading"},[t._v("\n    Transaction List\n  ")]),n("div",{staticClass:"transaction__actions"},[n("div",{staticClass:"btn-green transaction__filter",on:{click:t.openFilter}},[n("div",{staticClass:"transaction__icon"},[t.isFiltering?n("div",{staticClass:"notification-circle"}):t._e(),n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-filter"}})])]),n("span",[t._v("Filter and Sort")])]),n("div",{staticClass:"btn-green transaction__download",on:{click:t.downloadReport}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-download"}})]),n("span",[t._v("Download Report")])])]),n("div",{staticClass:"transaction__list"},t._l(t.transactions,function(e){return n("div",[n("TransactionCard",{key:e.id,attrs:{transaction:e},on:{updateTransactionList:t.updateTransactions}})],1)}),0)])},qt=[],Lt=(n("386d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transaction__card"},[n("div",{staticClass:"transaction__card__content",on:{click:function(e){return t.moveTo(t.transaction.id)}}},[n("div",{staticClass:"transaction__card__left"},[n("svg",{staticClass:"icon icon-big"},[n("use",t._b({},"use",{"xlink:href":"icons.svg#icon-"+t.transaction.category.toLowerCase()},!1))])]),n("div",{staticClass:"transaction__card__center"},[n("div",{staticClass:"title--small transaction__date"},[t._v("\n        "+t._s(t._f("dateFormatter")(t.transaction.date))+"\n      ")]),n("div",{staticClass:"title--big transaction__title"},[t._v("\n        "+t._s(t.transactionTitle)+"\n      ")]),n("div",{staticClass:"title--small transaction__price"},[t._v("\n        "+t._s(t._f("priceFormatter")(t.transaction.amount))+"\n      ")])])]),n("div",{staticClass:"transaction__card__right",on:{click:function(e){return t.removeTransaction(t.transaction.id)}}},[n("svg",{staticClass:"icon icon-medium-green",attrs:{id:"delete"}},[n("use",{attrs:{"xlink:href":"icons.svg#icon-dustbin"}})])])])}),Bt=[],Vt={name:"TransactionCard",props:{transaction:Object},computed:{transactionTitle:function(){return this.$options.filters.trimTextFormatter(this.transaction.title,20)}},methods:Object(o["a"])({},Object(T["b"])("transaction",["deleteTransaction"]),{removeTransaction:function(t){this.deleteTransaction(t),this.$emit("updateTransactionList")},moveTo:function(t){this.$router.push({name:"transaction-detail",params:{id:t}})}})},zt=Vt,Kt=(n("c94c"),Object(ft["a"])(zt,Lt,Bt,!1,null,null,null)),Mt=Kt.exports,Gt={components:{TransactionCard:Mt},props:{transactions:Array},computed:{isFiltering:function(){return!!this.$route.query.search||!!this.$route.query.category||!!this.$route.query.start||!!this.$route.query.end||"date"!=this.$route.query.sortBy}},methods:{openFilter:function(){this.$emit("openFilter",!0)},updateTransactions:function(){this.$emit("updateTransactions")},downloadReport:function(){this.$emit("downloadReport")}}},Yt=Gt,Wt=(n("6037"),Object(ft["a"])(Yt,Nt,qt,!1,null,null,null)),Ht=Wt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.paging.totalPages>1,expression:"paging.totalPages > 1"}],staticClass:"pagination"},[n("div",{staticClass:"first",on:{click:function(e){return t.moveTo(1)}}},[n("svg",{staticClass:"icon-green"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-arrow-first"}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:1!=t.paging.pageNumber,expression:"paging.pageNumber != 1"}],staticClass:"prev",on:{click:function(e){return t.moveTo(t.paging.pageNumber-1)}}},[n("svg",{staticClass:"icon-green"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-arrow-prev"}})])]),n("div",{staticClass:"pagination__go-to"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentPage,expression:"currentPage"}],staticClass:"pagination__selection",attrs:{onfocus:"this.size=2;",onblur:"this.size=1;",onchange:"this.size=1; this.blur();"},on:{click:function(e){return t.moveTo(t.currentPage)},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.currentPage=e.target.multiple?n:n[0]}}},t._l(t.paging.totalPages,function(e,r){return n("option",{staticClass:"pagination__option",domProps:{selected:t.currentPage}},[t._v(t._s(r+1))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.paging.pageNumber!=t.paging.totalPages,expression:"paging.pageNumber != paging.totalPages"}],staticClass:"next",on:{click:function(e){return t.moveTo(t.paging.pageNumber+1)}}},[n("svg",{staticClass:"icon-green"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-arrow-next"}})])]),n("div",{staticClass:"last",on:{click:function(e){return t.moveTo(t.paging.totalPages)}}},[n("svg",{staticClass:"icon-green"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-arrow-last"}})])])])},Jt=[],Qt={props:{paging:Object},data:function(){return{currentPage:this.$route.query.page||1}},methods:{moveTo:function(t){this.currentPage=t,this.$emit("changePage",parseInt(this.currentPage))}},watch:{$route:function(){this.currentPage=this.$route.query.page}}},Zt=Qt,te=(n("5eaf"),Object(ft["a"])(Zt,Xt,Jt,!1,null,null,null)),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"sort-filter"},[n("div",{staticClass:"header sort-filter__header"},[n("div",{staticClass:"sort-filter__close",on:{click:t.moveTo}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-cancel"}})])]),n("div",{staticClass:"title--menu user-form__next",on:{click:t.resetFilter}},[t._v("\n        RESET\n      ")])]),n("div",{staticClass:"sort-filter__content"},[n("div",{staticClass:"heading sort-filter__heading"},[t._v("\n        Filter and Sort\n      ")]),n("form",{staticClass:"sort-filter__form"},[n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n            Keyword Search\n          ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.options.search,expression:"options.search"}],staticClass:"form__input",attrs:{type:"text",name:"type"},domProps:{value:t.options.search},on:{input:function(e){e.target.composing||t.$set(t.options,"search",e.target.value)}}})]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n            Sort By\n          ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.options.sortBy,expression:"options.sortBy"}],staticClass:"form__input form__input__select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.options,"sortBy",e.target.multiple?n:n[0])}}},t._l(t.sortByOptions,function(e){return n("option",{key:e,domProps:{value:e,selected:t.options.sortBy}},[t._v("\n              "+t._s(t._f("textFormatter")(e))+"\n            ")])}),0)])]),n("div",{staticClass:"sort-filter__heading"},[t._v("\n        Filter By\n      ")]),n("form",{staticClass:"sort-filter__form"},[n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n            Category\n          ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.options.category,expression:"options.category"}],staticClass:"form__input form__input__select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.options,"category",e.target.multiple?n:n[0])}}},t._l(t.categoryOptions,function(e){return n("option",{key:e,domProps:{value:e,selected:t.options.category}},[t._v("\n              "+t._s(t._f("textFormatter")(e))+"\n            ")])}),0)]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n            Start Date\n          ")]),n("Datetime",{staticClass:"form__input",attrs:{type:"datetime","max-datetime":t.formatEnd||t.currentDateTime},model:{value:t.formatStart,callback:function(e){t.formatStart=e},expression:"formatStart"}}),t.isStartSelected?n("p",{staticClass:"input__error-message"},[t._v("\n            Start Date must be filled\n          ")]):t._e()],1),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n            End Date\n          ")]),n("Datetime",{staticClass:"form__input",attrs:{"min-datetime":t.formatStart,"max-datetime":t.currentDateTime,type:"datetime"},model:{value:t.formatEnd,callback:function(e){t.formatEnd=e},expression:"formatEnd"}}),t.isEndSelected?n("p",{staticClass:"input__error-message"},[t._v("\n            End Date must be filled\n          ")]):t._e()],1)])]),n("div",{staticClass:"sort-filter__button",on:{click:t.applyFilter}},[n("div",{staticClass:"btn-green "},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-filter"}})]),n("span",[t._v("Apply Filter")])])])])])},re=[],ae=n("859b"),ie={components:{Datetime:ae["Datetime"]},data:function(){return{options:this.emptyOptions(),sortByOptions:["date","category","title"],categoryOptions:["FUEL","PARKING"]}},computed:{currentDateTime:function(){return(new Date).toISOString()},formatStart:{set:function(t){this.options.start=t},get:function(){return this.options.start?new Date(this.options.start).toISOString():""}},formatEnd:{set:function(t){this.options.end=t},get:function(){return this.options.end?new Date(this.options.end).toISOString():""}},isEndSelected:function(){return!(!this.options.start||this.options.end)},isStartSelected:function(){return!(!this.options.end||this.options.start)}},methods:{moveTo:function(){this.$emit("closeFilter",!1)},applyFilter:function(){this.isEndSelected||this.isStartSelected||(this.options.start=this.options.start?new Date(this.options.start).getTime():"",this.options.end=this.options.end?new Date(this.options.end).getTime():"",this.options.page=1,this.$router.push({query:Object(o["a"])({},this.$route.query,this.options)}),this.moveTo())},emptyOptions:function(){return{search:"",sortBy:"date",category:"",start:"",end:""}},resetFilter:function(){this.options=this.emptyOptions()},convertDateToISOString:function(){this.options.start=this.options.start?new Date(parseInt(this.$route.query.start)).toISOString():"",this.options.end=this.options.end?new Date(parseInt(this.$route.query.end)).toISOString():""}},created:function(){this.options=Object(o["a"])({},this.options,this.$route.query),this.convertDateToISOString()}},se=ie,oe=(n("b5b2"),Object(ft["a"])(se,ne,re,!1,null,null,null)),ce=oe.exports,ue={components:{TransactionList:Ht,Pagination:ee,SortFilter:ce},data:function(){return{showFilter:!1,options:{page:parseInt(this.$route.query.page)||1,size:parseInt(this.$route.query.size)||5,sortBy:"date"}}},computed:Object(o["a"])({},Object(T["c"])("transaction",["transactions","pagination"])),methods:Object(o["a"])({},Object(T["b"])("transaction",["setImage","getTransactions"]),Object(T["b"])("user",["downloadPersonalReport"]),Object(T["b"])("auth",["logout"]),{onFileChange:function(t){var e=URL.createObjectURL(t.target.files[0]);this.setImage(e),this.$router.push({name:"create",params:{step:1}})},changePage:function(t){this.$router.push({query:Object(o["a"])({},this.$route.query,{page:t})})},toogleFilter:function(t){this.showFilter=t},updateTransaction:function(){var t=this;this.getTransactions(this.$route.query).then(function(){0==t.transactions.length&&t.changePage(1)})},moveTo:function(t){this.$router.push({name:t})},doLogout:function(){var t=this;this.logout().then(function(){t.$router.push({name:"login"})})},download:function(){this.downloadPersonalReport(this.$route.query)}}),watch:{$route:function(){this.updateTransaction()}},mounted:function(){this.$router.replace({query:Object(o["a"])({},this.options,this.$route.query)}),this.updateTransaction()}},le=ue,me=(n("e146"),Object(ft["a"])(le,At,Ut,!1,null,null,null)),pe=me.exports,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-transaction"},[n("div",{staticClass:"header create-transaction__header"},[n("div",{staticClass:"create-transaction__close",on:{click:t.moveTo}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-cancel"}})])]),n("div",{staticClass:"title--menu create-transaction__next",on:{click:function(e){return t.menuFunctionAction(t.menuAction)}}},[t._v("\n      "+t._s(t.menu)+"\n    ")])]),n("div",{staticClass:"create-transaction__order"},[n("div",{staticClass:"create-transaction__step"},[n("div",{staticClass:"create-transaction__progress"},[n("div",{staticClass:"create-transaction__progress-bar"},[n("div",{staticClass:"create-transaction__progress-bar--level",class:{half:t.activeTab>1}}),n("div",{staticClass:"create-transaction__progress-bar--level",class:{full:t.activeTab>=3}})])]),n("div",{staticClass:"create-transaction__step-child"},[n("div",{staticClass:"create-transaction__step-content"},[n("div",{staticClass:"create-transaction__step-number",class:{"step-number-active":t.activeTab>=1},on:{click:t.toStepOne}},[t._v("\n            1\n          ")]),n("div",{staticClass:"create-transaction__step-description",class:{"step-text-active":t.activeTab>=1}},[t._v("\n            Crop Image\n          ")])]),n("div",{staticClass:"create-transaction__step-content"},[n("div",{staticClass:"create-transaction__step-number",class:{"step-number-active":t.activeTab>=2},on:{click:t.toStepTwo}},[t._v("\n            2\n          ")]),n("div",{staticClass:"create-transaction__step-description",class:{"step-text-active":t.activeTab>=2},on:{click:t.toStepTwo}},[t._v("\n            Filter Image\n          ")])]),n("div",{staticClass:"create-transaction__step-content"},[n("div",{staticClass:"create-transaction__step-number",class:{"step-number-active":t.activeTab>=3},on:{click:t.toStepThree}},[t._v("\n            3\n          ")]),n("div",{staticClass:"create-transaction__step-description",class:{"step-text-active":t.activeTab>=3},on:{click:t.toStepThree}},[t._v("\n            Fill Form\n          ")])])])])]),n("div",{staticClass:"create-transaction__view"},[n(t.activeComponent,{ref:"generate",tag:"Component",attrs:{"picture-url":t.pictureUrl}})],1)])},fe=[],ve=(n("6762"),n("2fdb"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"crop-image"},[n("div",{staticClass:"crop-image__container"},[n("Croppa",{staticClass:"croppa-canvas",attrs:{"auto-sizing":"","initial-image":t.image},model:{value:t.myCroppa,callback:function(e){t.myCroppa=e},expression:"myCroppa"}})],1),n("div",{staticClass:"crop-image__button"},[n("div",{staticClass:"btn-green",on:{click:t.flipXImage}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-flip-x"}})]),n("span",[t._v("Flip Horizontally")])]),n("div",{staticClass:"btn-green",on:{click:t.flipYImage}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-flip-y"}})]),n("span",[t._v("Flip Vertically")])]),n("div",{staticClass:"btn-green",on:{click:t.rotateRight}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-circular-clockwise"}})]),n("span",[t._v("Rotate Right")])]),n("div",{staticClass:"btn-green",on:{click:t.rotateLeft}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-circular-counter-clockwise"}})]),n("span",[t._v("Rotate Left")])])])])}),he=[],_e={name:"App",data:function(){return{myCroppa:null,filterFunctions:null,width:0,height:0}},methods:{generateImage:function(){if(this.myCroppa.hasImage())return this.myCroppa.generateDataUrl("image/jpg",.7)},flipXImage:function(){this.myCroppa.flipX()},flipYImage:function(){this.myCroppa.flipY()},rotateRight:function(){this.myCroppa.rotate(1)},rotateLeft:function(){this.myCroppa.rotate(-1)}},computed:Object(T["c"])("transaction",["image"])},ge=_e,be=(n("7e8c"),Object(ft["a"])(ge,ve,he,!1,null,null,null)),Ce=be.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter-image"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.pictureUrl,expression:"pictureUrl"}],staticClass:"filter-image__image"},[n("img",{style:t.filters,attrs:{id:"image",crossorigin:"Anonymous",src:t.pictureUrl}})]),n("div",{staticClass:"filter-image__option"},[n("div",[n("label",{staticClass:"filter-image__label"},[t._v("\n        Grayscale ("+t._s(t.filterFunctions.grayscale)+")\n      ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterFunctions.grayscale,expression:"filterFunctions.grayscale"}],staticClass:"form-control",attrs:{type:"range",step:"0.1",min:"0",max:"1",disabled:!t.pictureUrl},domProps:{value:t.filterFunctions.grayscale},on:{__r:function(e){return t.$set(t.filterFunctions,"grayscale",e.target.value)}}})]),n("div",[n("label",{staticClass:"filter-image__label"},[t._v("\n        Brightness ("+t._s(t.filterFunctions.brightness)+")\n      ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterFunctions.brightness,expression:"filterFunctions.brightness"}],staticClass:"form-control",attrs:{type:"range",step:"0.01",min:"0",max:"5",disabled:!t.pictureUrl},domProps:{value:t.filterFunctions.brightness},on:{__r:function(e){return t.$set(t.filterFunctions,"brightness",e.target.value)}}})]),n("div",[n("label",{staticClass:"filter-image__label"},[t._v("\n        Contrast ("+t._s(t.filterFunctions.contrast)+")\n      ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterFunctions.contrast,expression:"filterFunctions.contrast"}],staticClass:"form-control",attrs:{type:"range",step:"0.01",min:"0",max:"10",disabled:!t.pictureUrl},domProps:{value:t.filterFunctions.contrast},on:{__r:function(e){return t.$set(t.filterFunctions,"contrast",e.target.value)}}})])])])},we=[],Te={name:"App",props:{pictureUrl:{type:String,required:!0}},data:function(){return{filterFunctions:null,width:0,height:0}},computed:{filters:function(){return this.makeFilter()}},created:function(){this.pictureUrl||this.$router.push({name:"create",params:{step:1}}),this.filterFunctions=this.defaultValues()},methods:Object(o["a"])({},Object(T["b"])("transaction",["createTransaction","setImage"]),Object(T["b"])("notification",["addNotification"]),{makeFilter:function(){var t=this.filterFunctions,e="",n=this.defaultValues();for(var r in t)t[r]!==n[r]&&(e=e+r+"("+t[r]+") ");return{filter:e}},defaultValues:function(){return{grayscale:1,brightness:1.1,contrast:1}},generateImage:function(){var t=document.createElement("canvas");t.width=document.getElementById("image").clientWidth,t.height=document.getElementById("image").clientHeight;var e=t.getContext("2d");e.filter=this.filters.filter;var n=new Image;n.src=document.getElementById("image").src,e.drawImage(n,0,0,t.width,t.height);var r=t.toDataURL();return this.uploadImageOCR(r),r},uploadImageOCR:function(t){var e=this,n={image:t};this.createTransaction(n).then(function(){var t={type:"success",message:"Image has been submitted."};e.addNotification(t)}).catch(function(){var t={type:"error",message:"Oops ! You're offline. We will send it back as soon as you're online."};e.addNotification(t)}),this.$router.push({name:"create",params:{step:3}})}})},$e=Te,ke=(n("d8a6"),Object(ft["a"])($e,ye,we,!1,null,null,null)),Oe=ke.exports,xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transaction-form"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.pictureUrl,expression:"pictureUrl"}],staticClass:"transaction-form__image"},[n("img",{attrs:{crossorigin:"Anonymous",src:t.pictureUrl}})]),n("div",{staticClass:"transaction-form__menu"},[n("div",{staticClass:"title--big",class:{active:!t.isSwitchOn}},[t._v("\n      Fuel\n    ")]),n("div",[n("div",{staticClass:"switch-button-control"},[n("div",{staticClass:"switch-button",class:{enabled:t.isSwitchOn},on:{click:t.toggle}},[n("div",{staticClass:"button"})])])]),n("div",{staticClass:"title--big",class:{active:t.isSwitchOn}},[t._v("\n      Parking\n    ")])]),n(t.currentComponent,{ref:"sendForm",tag:"Component"})],1)},Ie=[],Se=(n("6b54"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"transaction-form__parking"},[n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Title\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.parking.title,expression:"parking.title"}],staticClass:"form__input",attrs:{type:"text",name:"type"},domProps:{value:t.parking.title},on:{blur:function(e){return t.$v.parking.title.$touch()},input:function(e){e.target.composing||t.$set(t.parking,"title",e.target.value)}}}),t.$v.parking.title.$error?n("div",[t.$v.parking.title.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Title must be filled\n      ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"date"}},[t._v("\n      In\n    ")]),n("Datetime",{staticClass:"form__input",attrs:{type:"datetime","max-datetime":t.parking.out||t.currentDateTime},on:{close:function(e){return t.$v.parking.date.$touch()}},model:{value:t.formatInDate,callback:function(e){t.formatInDate=e},expression:"formatInDate"}}),t.$v.parking.date.$error?n("div",[t.$v.parking.date.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        In must be filled\n      ")])]):t._e()],1),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"date"}},[t._v("\n      Out\n    ")]),n("Datetime",{staticClass:"form__input",attrs:{type:"datetime","min-datetime":t.formatInDate,"max-datetime":t.currentDateTime},on:{close:function(e){return t.$v.parking.out.$touch()}},model:{value:t.formatOutDate,callback:function(e){t.formatOutDate=e},expression:"formatOutDate"}}),t.$v.parking.out.$error?n("div",[t.$v.parking.out.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Out must be filled\n      ")])]):t._e()],1),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Price\n    ")]),n("div",{staticClass:"form__currency"},[n("p",{staticClass:"form__currency__symbol"},[t._v("\n        Rp.\n      ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.parkingAmount,expression:"parkingAmount"}],staticClass:"form__currency__input",attrs:{type:"text",name:"type"},domProps:{value:t.parkingAmount},on:{input:function(e){e.target.composing||(t.parkingAmount=e.target.value)}}})]),t.$v.parking.amount.$error?n("div",[t.$v.parking.amount.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Price must be filled\n      ")])]):t._e(),!t.$v.parking.amount.currency&&t.$v.parking.amount.required?n("p",{staticClass:"input__error-message"},[t._v("\n      Price must be only filled in IDR currency format\n    ")]):t._e(),!t.$v.amountInt.minValue&&t.$v.parking.amount.currency?n("p",{staticClass:"input__error-message"},[t._v("\n      Price must more than 100\n    ")]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Vehicle Type\n    ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.parking.parkingType,expression:"parking.parkingType"}],staticClass:"form__input form__input__select",on:{blur:function(e){return t.$v.parking.parkingType.$touch()},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.parking,"parkingType",e.target.multiple?n:n[0])}}},t._l(t.type,function(e){return n("option",{key:e,domProps:{value:e,selected:t.parking.parkingType}},[t._v("\n        "+t._s(t._f("textFormatter")(e))+"\n      ")])}),0),t.$v.parking.parkingType.$error?n("div",[t.$v.parking.parkingType.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Vehicle Type must be filled\n      ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      License\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.parking.license,expression:"parking.license"}],staticClass:"form__input",attrs:{type:"text",name:"type"},domProps:{value:t.parking.license},on:{blur:function(e){return t.$v.parking.license.$touch()},input:function(e){e.target.composing||t.$set(t.parking,"license",e.target.value)}}}),t.$v.parking.license.$error?n("div",[t.$v.parking.license.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        License must be filled\n      ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Location\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.parking.location,expression:"parking.location"}],staticClass:"form__input",attrs:{type:"text",name:"type"},domProps:{value:t.parking.location},on:{blur:function(e){return t.$v.parking.location.$touch()},input:function(e){e.target.composing||t.$set(t.parking,"location",e.target.value)}}}),t.$v.parking.location.$error?n("div",[t.$v.parking.location.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Location must be filled\n      ")])]):t._e()])])}),Ee=[],De=(n("28a5"),{components:{Datetime:ae["Datetime"]},validations:{parking:{date:{required:Et["required"]},out:{required:Et["required"]},amount:{required:Et["required"],currency:function(t){var e=t.toString().replace(/\./g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");return/^\$?([0-9]{1,3}.([0-9]{3}.)*[0-9]{3}|[0-9]+)$/g.test(e)}},title:{required:Et["required"]},parkingType:{required:Et["required"]},license:{required:Et["required"]},location:{required:Et["required"]}},amountInt:{minValue:Object(Et["minValue"])(100)}},data:function(){return{isSwitchOn:{type:Boolean,default:!0},type:["BUS","CAR","MOTORCYCLE"]}},computed:Object(o["a"])({},Object(T["c"])("transaction",["parking"]),{parkingAmount:{set:function(t){this.parking.amount=t},get:function(){return this.parking.amount.toString().replace(/\./g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")}},amountInt:function(){return"string"===typeof this.parking.amount?parseInt(this.parking.amount.split(".").join("")):this.parking.amount},formatInDate:{set:function(t){this.parking.date=t},get:function(){return this.parking.date?new Date(this.parking.date).toISOString():""}},formatOutDate:{set:function(t){this.parking.out=t},get:function(){return this.parking.out?new Date(this.parking.out).toISOString():""}},currentDateTime:function(){return(new Date).toISOString()}}),methods:Object(o["a"])({},Object(T["b"])("transaction",["saveTransaction"]),Object(T["b"])("notification",["addNotification"]),{toggle:function(){this.isSwitchOn=!this.isSwitchOn},sendParkingForm:function(){var t=this;if(this.$v.parking.$touch(),!this.$v.parking.$invalid)return this.reformatPrice(),this.calculateDuration(),this.convertDateToEpoch(),this.saveTransaction(this.parking).then(function(e){console.log(e);var n={type:"success",message:"Parking form has been submitted."};t.addNotification(n)}).catch(function(){var e={type:"error",message:"Oops ! You're offline. We will send it back as soon as you're online."};t.addNotification(e)});alert("error")},reformatPrice:function(){this.parking.amount=this.amountInt},calculateDuration:function(){this.parking.hours=Math.floor((new Date(this.parking.out).getTime()-new Date(this.parking.date).getTime())/36e5)},convertDateToEpoch:function(){this.parking.date=new Date(this.parking.date).getTime()}})}),Fe=De,Re=(n("d640"),Object(ft["a"])(Fe,Se,Ee,!1,null,null,null)),je=Re.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"transaction-form__fuel"},[n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Title\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fuel.title,expression:"fuel.title"}],staticClass:"form__input",attrs:{type:"text",name:"type"},domProps:{value:t.fuel.title},on:{blur:function(e){return t.$v.fuel.title.$touch()},input:function(e){e.target.composing||t.$set(t.fuel,"title",e.target.value)}}}),t.$v.fuel.title.$error?n("div",[t.$v.fuel.title.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Title must be filled\n      ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"date"}},[t._v("\n      Date\n    ")]),n("Datetime",{staticClass:"form__input",attrs:{type:"datetime","max-datetime":t.currentDateTime},on:{close:function(e){return t.$v.fuel.date.$touch()}},model:{value:t.formatDate,callback:function(e){t.formatDate=e},expression:"formatDate"}}),t.$v.fuel.date.$error?n("div",[t.$v.fuel.date.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Date must be filled\n      ")])]):t._e()],1),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Fuel Type\n    ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.fuel.fuelType,expression:"fuel.fuelType"}],staticClass:"form__input form__input__select",on:{blur:function(e){return t.$v.fuel.fuelType.$touch()},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.fuel,"fuelType",e.target.multiple?n:n[0])}}},t._l(t.fuelType,function(e){return n("option",{key:e,domProps:{value:e,selected:e.fuelType}},[t._v("\n        "+t._s(t._f("textFormatter")(e))+"\n      ")])}),0),t.$v.fuel.fuelType.$error?n("div",[t.$v.fuel.fuelType.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n        Fuel Type must be filled\n      ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Volume\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fuel.liters,expression:"fuel.liters"}],staticClass:"form__input",attrs:{type:"text",name:"type",placeholder:" ex: 1000.34, 1.34, 1.00, 1"},domProps:{value:t.fuel.liters},on:{blur:function(e){return t.$v.fuel.liters.$touch()},input:function(e){e.target.composing||t.$set(t.fuel,"liters",e.target.value)}}}),!t.$v.fuel.liters.float&&t.$v.fuel.liters.required?n("p",{staticClass:"input__error-message"},[t._v("\n      Volume must be decimal ex: 100.34, 1.34, 1.00, 1\n    ")]):t._e(),t.$v.fuel.liters.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n      Volume must be filled\n    ")])]),!t.$v.fuel.liters.minValue&&t.$v.fuel.liters.float?n("p",{staticClass:"input__error-message"},[t._v("\n    Volume must more than 0.01\n  ")]):t._e(),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Unit Price\n    ")]),n("div",{staticClass:"form__currency"},[n("p",{staticClass:"form__currency__symbol"},[t._v("\n        Rp.\n      ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fuelAmount,expression:"fuelAmount"}],staticClass:"form__currency__input",attrs:{type:"text",name:"type"},domProps:{value:t.fuelAmount},on:{input:function(e){e.target.composing||(t.fuelAmount=e.target.value)}}})]),t.$v.fuel.amount.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n      Unit Price must be filled\n    ")]),!t.$v.fuel.amount.currency&&t.$v.fuel.amount.required?n("p",{staticClass:"input__error-message"},[t._v("\n      Unit Price must be only filled in IDR currency format\n    ")]):t._e(),!t.$v.amountInt.minValue&&t.$v.fuel.amount.currency?n("p",{staticClass:"input__error-message"},[t._v("\n      Unit Price must more than 100\n    ")]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n      Total Price\n    ")]),n("div",{staticClass:"form__currency"},[n("p",{staticClass:"form__currency__symbol"},[t._v("\n        Rp.\n      ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"}],staticClass:"form__currency__input",attrs:{type:"text",name:"type",disabled:"true"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)}}})])])])},Ae=[],Ue=(Et["helpers"].regex("decimal",/^[0-9]+([.][0-9]+)?$/),{components:{Datetime:ae["Datetime"]},validations:{fuel:{date:{required:Et["required"]},fuelType:{required:Et["required"]},liters:{required:Et["required"],float:function(t){return/^[0-9]+([.][0-9]+)?$/g.test(t)},minValue:Object(Et["minValue"])(.01)},amount:{required:Et["required"],currency:function(t){var e=t.toString().replace(/\./g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");return/^\$?([0-9]{1,3}.([0-9]{3}.)*[0-9]{3}|[0-9]+)$/g.test(e)}},title:{required:Et["required"]}},amountInt:{minValue:Object(Et["minValue"])(100)}},data:function(){return{isSwitchOn:{type:Boolean,default:!0},fuelType:["PERTALITE","SOLAR","PREMIUM"]}},computed:Object(o["a"])({},Object(T["c"])("transaction",["fuel"]),{fuelAmount:{set:function(t){this.fuel.amount=t},get:function(){return this.fuel.amount.toString().replace(/\./g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")}},totalPrice:function(){var t=(this.formatAmountToInt*this.fuel.liters).toFixed(2);return t.includes("e")?t||0:t.replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")||0},formatAmountToInt:function(){return this.fuel.amount?this.amountInt:""},amountInt:function(){return"string"===typeof this.fuel.amount?parseInt(this.fuel.amount.split(".").join("")):this.fuel.amount},currentDateTime:function(){return(new Date).toISOString()},formatDate:{set:function(t){this.fuel.date=t},get:function(){return this.fuel.date?new Date(this.fuel.date).toISOString():""}}}),methods:Object(o["a"])({},Object(T["b"])("transaction",["saveTransaction","setFormEmpty"]),Object(T["b"])("notification",["addNotification"]),{toggle:function(){this.isSwitchOn=!this.isSwitchOn},sendFuelForm:function(){var t=this;if(this.$v.fuel.$touch(),!this.$v.fuel.$invalid)return this.fuel.amount=this.amountInt,this.reformatVolume(),this.convertDateToEpoch(),this.saveTransaction(this.fuel).then(function(e){var n={type:"success",message:"Fuel form has been submitted."};t.addNotification(n)}).catch(function(e){console.log("error-fuel",e);var n={type:"error",message:"Oops ! You're offline. We will send it back as soon as you're online."};t.addNotification(n)});console.log("error")},reformatVolume:function(){this.fuel.liters=parseFloat(this.fuel.liters)},convertDateToEpoch:function(){this.fuel.date=new Date(this.fuel.date).getTime()}})}),Ne=Ue,qe=(n("2914"),Object(ft["a"])(Ne,Pe,Ae,!1,null,null,null)),Le=qe.exports,Be={true:{component:"PARKING",action:"sendParkingForm",show:!0},false:{component:"FUEL",action:"sendFuelForm",show:!1}},Ve={components:{PARKING:je,FUEL:Le},props:{pictureUrl:{type:String,required:!0,default:""}},data:function(){return{tabs:{PARKING:Be["true"],FUEL:Be["false"]}}},computed:Object(o["a"])({},Object(T["c"])("transaction",["OCRResultType"]),{currentComponent:function(){return this.OCRResultType},isSwitchOn:function(){return this.currentComponent?this.tabs[this.currentComponent].show:""},parkingTemplate:function(){return{data:{category:"PARKING",date:"",out:"",amount:100,title:"",parkingType:"",license:"",location:"",hours:0,userId:"",image:""}}},fuelTemplate:function(){return{data:{category:"FUEL",date:"",fuelType:"",liters:.01,amount:100,title:"",userId:"",image:""}}}}),created:function(){this.pictureUrl||this.$router.push({name:"create",params:{step:1}})},methods:Object(o["a"])({},Object(T["b"])("transaction",["setOCRResultType","setFormEmpty"]),{toggle:function(){this.setOCRResultType(Be[(!this.isSwitchOn).toString()].component)},saveData:function(){var t=this;this.isSwitchOn?this.$refs.sendForm.sendParkingForm().then(function(){return t.emptyAllForm()}):this.$refs.sendForm.sendFuelForm().then(function(){return t.emptyAllForm()})},emptyAllForm:function(){this.setFormEmpty(this.parkingTemplate),this.setFormEmpty(this.fuelTemplate),this.$router.push({name:"home"})}})},ze=Ve,Ke=(n("33eb"),Object(ft["a"])(ze,xe,Ie,!1,null,null,null)),Me=Ke.exports,Ge={components:{CropImage:Ce,FilterImage:Oe,TransactionForm:Me},data:function(){return{menus:[{menuId:0},{menuId:1,menuTitle:"Next",menuFunction:"toStepTwo",component:"CropImage"},{menuId:2,menuTitle:"Next",menuFunction:"toStepThree",component:"FilterImage"},{menuId:3,menuTitle:"Save",menuFunction:"finalStep",component:"TransactionForm"}],pictureUrl:""}},computed:{menu:function(){return this.menus[this.activeTab].menuTitle},menuAction:function(){return this.menus[this.activeTab].menuFunction},activeTab:function(){return this.$route.params.step},activeComponent:function(){return this.menus[this.activeTab].component}},methods:Object(o["a"])({},Object(T["b"])("transaction",["setImage"]),{menuFunctionAction:function(t){this[t]()},toStepOne:function(){3==this.activeTab&&this.deleteDataFromIDB(),this.$router.push({name:"create",params:{step:1}})},toStepTwo:function(){1==this.activeTab?this.fromStepOne():3==this.activeTab&&this.fromStepThree()},fromStepOne:function(){this.pictureUrl=this.$refs.generate.generateImage(),this.setImage(this.pictureUrl),this.pictureUrl&&this.$router.push({name:"create",params:{step:2}})},fromStepThree:function(){this.deleteDataFromIDB(),this.$router.push({name:"create",params:{step:2}})},toStepThree:function(){this.isSamePage("3")||(this.pictureUrl?this.pictureUrl=this.$refs.generate.generateImage():this.$router.push({name:"create",params:{step:1}}))},finalStep:function(){this.$refs.generate.saveData()},isSamePage:function(t){return this.activeTab==t},moveTo:function(){this.deleteDataFromIDB(),this.$router.push({name:"home"})},deleteDataFromIDB:function(){try{it.deleteLastDataFromIndexedDB("offlineImages")}catch(t){return t}}}),watch:{$route:function(){this.$route.path.includes("/transaction/create/")||3!=this.activeTab||this.deleteDataFromIDB()}}},Ye=Ge,We=(n("c2d5"),Object(ft["a"])(Ye,de,fe,!1,null,null,null)),He=We.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header transaction-detail__header"},[n("div",{staticClass:"transaction-detail__close",on:{click:function(e){return t.$router.go(-1)}}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-back"}})])])]),n("div",{staticClass:"transaction-detail__content"},[n("h3",[t._v(t._s(t.transactionCategory+" Expenses"))]),n("p",[t._v("\n      "+t._s(t._f("dateFormatter")(t.transaction.date||t.transaction.in))+"\n    ")]),n("h1",[n("Center",[t._v(t._s(t.transaction.title))])],1),n("img",{staticClass:"transaction-detail__image",attrs:{src:t.imageBase64}}),n(t.activeComponent,{tag:"Component",attrs:{transaction:t.transaction}})],1)])},Je=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transaction-detail__list"},[n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Fuel Type")]),n("p",[t._v(t._s(t._f("textFormatter")(t.transaction.type)))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Volume")]),n("p",[t._v(t._s(t.transaction.liters))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Unit Price")]),n("p",[t._v(t._s(t._f("priceFormatter")(t.transaction.amount)))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Total Price")]),n("p",[t._v(t._s(t._f("priceFormatter")(t.totalPrice)))])])])},Ze=[],tn={props:{transaction:Object},computed:{totalPrice:function(){return this.transaction.amount*this.transaction.liters}}},en=tn,nn=Object(ft["a"])(en,Qe,Ze,!1,null,null,null),rn=nn.exports,an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transaction-detail__list"},[n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("In")]),n("p",[t._v(t._s(t._f("dateFormatter")(t.transaction.date)))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Total Hours")]),n("p",[t._v(t._s(t.transaction.hours))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Vehicle Type")]),n("p",[t._v(t._s(t._f("textFormatter")(t.transaction.type)))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("License")]),n("p",[t._v(t._s(t.transaction.license))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Location")]),n("p",[t._v(t._s(t.transaction.location))])]),n("div",{staticClass:"transaction-detail__box"},[n("h3",[t._v("Total Price")]),n("p",[t._v(t._s(t._f("priceFormatter")(t.transaction.amount)))])])])},sn=[],on={props:{transaction:Object}},cn=on,un=Object(ft["a"])(cn,an,sn,!1,null,null,null),ln=un.exports,mn={components:{ViewFuelDetail:rn,ViewParkingDetail:ln},computed:Object(o["a"])({},Object(T["c"])("transaction",["transaction","viewImage"]),{transactionId:function(){return this.$route.params.id},transactionCategory:function(){return this.$options.filters.textFormatter(this.transaction.category)},activeComponent:function(){return this.transactionCategory?"View".concat(this.transactionCategory,"Detail"):""},imageExt:function(){return this.transaction.image?this.transaction.image.split(".")[1]:""},imagePath:function(){return this.transaction.image?this.transaction.image.split(".")[0]:""},imageBase64:function(){return"data:image/".concat(this.imageExt,";base64,").concat(this.viewImage)}}),methods:Object(o["a"])({},Object(T["b"])("transaction",["getTransaction","getViewImage"])),mounted:function(){var t=this;this.getTransaction(this.transactionId).then(function(){t.getViewImage(t.imagePath)})}},pn=mn,dn=(n("a5d1"),Object(ft["a"])(pn,Xe,Je,!1,null,null,null)),fn=dn.exports,vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"manage-user"},[n("div",{staticClass:"header manage-user__header"},[n("div",{staticClass:"title--menu manage-user__title"}),n("div",{staticClass:"title--menu manage-user__title",on:{click:t.doLogout}},[t._v("\n      Logout\n    ")])]),n("div",{staticClass:"manage-user__content"},[n("div",{staticClass:"heading manage-user__heading"},[t._v("\n      List of User\n    ")]),n("div",{staticClass:"manage-user__action"},[n("div",{staticClass:"manage-user__create",on:{click:t.moveTo}},[n("div",{staticClass:"btn-green"},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-plus"}})]),n("span",[t._v("Add User")])])]),n("div",{staticClass:"manage-user__search"},[n("svg",{staticClass:"icon-green"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-search"}})]),n("input",{attrs:{type:"text",placeholder:"search by name"},on:{keyup:t.submitSearch}})])]),t.users.length?n("UserList",{attrs:{users:t.users},on:{updateUsers:t.updateUser}}):t._e(),n("Pagination",{attrs:{paging:t.pagination},on:{changePage:t.changePage}})],1)])},hn=[],_n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user__list"},t._l(t.users,function(e,r){return n("UserCard",{key:e.id,attrs:{user:e,index:r},on:{updateUserList:t.updateUsers}})}),1)},gn=[],bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user__card"},[n("div",{staticClass:"user__card__center",on:{click:function(e){return t.moveTo(t.user.id)}}},[n("div",{staticClass:"\n    title--big\n    user__username"},[t._v("\n      "+t._s(t.userName)+"\n    ")]),n("div",{staticClass:"title--small user__role"},[t._v("\n      "+t._s(t._f("textFormatter")(t.user.role))+"\n    ")])]),n("div",{staticClass:"user__card__right",on:{click:function(e){return t.removeUser(t.user.id)}}},[n("svg",{staticClass:"icon icon-medium-green",attrs:{id:"delete"}},[n("use",{attrs:{"xlink:href":"icons.svg#icon-dustbin"}})])])])},Cn=[],yn={props:{user:Object,index:0},computed:{userName:function(){return this.$options.filters.trimTextFormatter(this.user.username,10)}},methods:Object(o["a"])({},Object(T["b"])("user",["deleteUser"]),{removeUser:function(t){this.deleteUser(t),this.$emit("updateUserList")},moveTo:function(t){this.$router.push({name:"user-edit",params:{id:t}})}})},wn=yn,Tn=(n("7b4a"),Object(ft["a"])(wn,bn,Cn,!1,null,null,null)),$n=Tn.exports,kn={components:{UserCard:$n},props:{users:Array},methods:{updateUsers:function(){this.$emit("updateUsers")}}},On=kn,xn=(n("b9c2"),Object(ft["a"])(On,_n,gn,!1,null,null,null)),In=xn.exports,Sn={components:{UserList:In,Pagination:ee},computed:Object(o["a"])({},Object(T["c"])("user",["users","pagination"]),{options:function(){return{page:parseInt(this.$route.query.page)||1,size:parseInt(this.$route.query.size)||10,sort_by:"created_at",search:this.$route.query.search||""}}}),methods:Object(o["a"])({},Object(T["b"])("user",["getUsers"]),Object(T["b"])("auth",["logout"]),{moveTo:function(){this.$router.push({name:"user-create"})},updateUser:function(){this.getUsers(this.options)},changePage:function(t){this.options.page=parseInt(t),this.$router.push({name:"user",query:this.options}),this.getUsers(this.options)},submitSearch:function(t){this.options.search=t.target.value,this.$router.push({name:"user",query:this.options}),this.getUsers(this.options)},doLogout:function(){var t=this;this.logout().then(function(){t.$router.push({name:"login"})})}}),watch:{options:function(){this.updateUser()}},mounted:function(){this.updateUser()}},En=Sn,Dn=(n("a7d7"),Object(ft["a"])(En,vn,hn,!1,null,null,null)),Fn=Dn.exports,Rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-form"},[n("div",{staticClass:"header user-form__header"},[n("div",{staticClass:"user-form__close",on:{click:t.moveTo}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-cancel"}})])]),n("div",{staticClass:"title--menu user-form__next",on:{click:t.submitForm}},[t._v("\n      SAVE\n    ")])]),n("div",{staticClass:"user-form__content"},[n("div",{staticClass:"heading user-form__heading"},[t._v("\n      "+t._s(t.formTitle)+"\n    ")]),n("form",{staticClass:"user-form__form"},[n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n          Username\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form__input",attrs:{type:"text",name:"type"},domProps:{value:t.user.username},on:{blur:function(e){return t.$v.user.username.$touch()},input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t.$v.user.username.$error?n("div",[t.$v.user.username.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Name must be filled\n          ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n          Password\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form__input",attrs:{type:"password",name:"type"},domProps:{value:t.user.password},on:{blur:function(e){return t.$v.user.password.$touch()},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t.$v.user.password.$error?n("div",[t.$v.user.password.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Password must be filled\n          ")])]):t._e(),t.$v.user.password.$error?n("div",[t.$v.user.password.minLength?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Password must have at least 6 characters\n          ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n          Role\n        ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role,expression:"user.role"}],staticClass:"form__input form__input__select",on:{blur:function(e){return t.$v.user.role.$touch()},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.user,"role",e.target.multiple?n:n[0])}}},t._l(t.roles,function(e){return n("option",{key:e,domProps:{value:e,selected:t.user.role}},[t._v("\n            "+t._s(t._f("textFormatter")(e))+"\n          ")])}),0),t.$v.user.role.$error?n("div",[t.$v.user.role.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Role must be filled\n          ")])]):t._e()])])])])},jn=[],Pn={validations:{user:{username:{required:Et["required"]},password:{required:Et["required"],minLength:Object(Et["minLength"])(6)},role:{required:Et["required"]}}},data:function(){return{roles:["ADMIN","USER"]}},computed:Object(o["a"])({},Object(T["c"])("user",["user"]),{userId:function(){return this.$route.params.id},formTitle:function(){return this.userId?"Edit User":"Create User"},userTemp:function(){return{username:"",password:"",role:""}}}),methods:Object(o["a"])({},Object(T["b"])("user",["updateUser","createUser","getUser","emptyUser"]),{moveTo:function(){this.$router.push({name:"user"})},submitForm:function(){var t=this;this.$v.user.$touch(),this.$v.user.$invalid?console.log("error"):this.sendForm().then(function(){t.$router.push({name:"user"})})},checkActionForm:function(){this.userId?this.getUser(this.userId):this.emptyUser(this.userTemp)},sendForm:function(){return this.userId?this.updateUser(this.user):this.createUser(this.user)}}),mounted:function(){this.checkActionForm()}},An=Pn,Un=(n("f8d7"),Object(ft["a"])(An,Rn,jn,!1,null,null,null)),Nn=Un.exports,qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-profile"},[n("div",{staticClass:"header edit-profile__header"},[n("div",{staticClass:"edit-profile__close",on:{click:t.moveTo}},[n("svg",{staticClass:"icon icon-small"},[n("use",{attrs:{"xlink:href":"icons.svg#icon-cancel"}})])]),n("div",{staticClass:"title--menu user-form__next",on:{click:t.submitForm}},[t._v("\n      SAVE\n    ")])]),n("div",{staticClass:"edit-profile__content"},[n("div",{staticClass:"heading edit-profile__heading"},[t._v("\n      Change Password\n    ")]),n("form",{staticClass:"edit-profile__form"},[n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n          Username\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form__input",attrs:{type:"text",name:"type"},domProps:{value:t.user.username},on:{blur:function(e){return t.$v.user.username.$touch()},input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t.$v.user.username.$error?n("div",[t.$v.user.username.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Name must be filled\n          ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n          Password\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form__input",attrs:{type:"password",name:"type"},domProps:{value:t.user.password},on:{blur:function(e){return t.$v.user.password.$touch()},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t.$v.user.password.$error?n("div",[t.$v.user.password.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Password must be filled\n          ")])]):t._e(),t.$v.user.password.$error?n("div",[t.$v.user.password.minLength?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Password must have at least 6 characters\n          ")])]):t._e()]),n("div",{staticClass:"form__child"},[n("label",{staticClass:"input__label title--medium-form",attrs:{for:"type"}},[t._v("\n          Confirm Password\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form__input",attrs:{type:"password",name:"type"},domProps:{value:t.confirmPassword},on:{blur:function(e){return t.$v.confirmPassword.$touch()},input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),t.$v.confirmPassword.$error?n("div",[t.$v.confirmPassword.required?t._e():n("p",{staticClass:"input__error-message"},[t._v("\n            Confirm Password must be filled\n          ")])]):t._e(),t.sameAsPassword?n("p",{staticClass:"input__error-message"},[t._v("\n          Confirm Password must same as Password\n        ")]):t._e()])])])])},Ln=[],Bn={validations:{user:{username:{required:Et["required"]},password:{required:Et["required"],minLength:Object(Et["minLength"])(6)}},confirmPassword:{required:Et["required"]}},data:function(){return{user:{username:"",password:""},confirmPassword:""}},computed:Object(o["a"])({},Object(T["c"])("auth",["username"]),{sameAsPassword:function(){return!!this.user.password&&this.user.password!=this.confirmPassword}}),methods:Object(o["a"])({},Object(T["b"])("user",["updatePersonalProfile"]),Object(T["b"])("auth",["updateToken"]),{moveTo:function(){this.$router.push({name:"home"})},submitForm:function(){var t=this;this.$v.user.$touch(),this.$v.user.$invalid?console.log("error"):(this.updatePersonalProfile(this.user).then(function(e){console.log(e.headers),t.updateToken(e.headers.Authorization)}),this.moveTo())}}),created:function(){var t=this;this.$nextTick(function(){t.user.username=t.username})}},Vn=Bn,zn=(n("2953"),Object(ft["a"])(Vn,qn,Ln,!1,null,null,null)),Kn=zn.exports;r["a"].use(xt["a"]);var Mn=new xt["a"]({mode:"history",routes:[{path:"/login",name:"login",component:Pt},{path:"/home",beforeEnter:Gn,name:"home",component:pe},{path:"/transaction/create/:step",beforeEnter:Gn,name:"create",component:He},{path:"/transaction/:id",beforeEnter:Gn,name:"transaction-detail",component:fn},{path:"/users",beforeEnter:Yn,name:"user",component:Fn},{path:"/users/create",beforeEnter:Yn,name:"user-create",component:Nn},{path:"/users/edit/:id",beforeEnter:Yn,name:"user-edit",component:Nn},{path:"/users/edit-profile",beforeEnter:Gn,name:"edit-profile",component:Kn},{path:"*",redirect:"/home"}]});function Gn(t,e,n){if(nt.state.auth.token&&"USER"===nt.state.auth.role)n();else{var r={type:"error",message:"You are not authorized. Please login again."};nt.dispatch("notification/addNotification",r),n("/login")}}function Yn(t,e,n){if(nt.state.auth.token&&"ADMIN"===nt.state.auth.role)n();else{var r={type:"error",message:"You are not authorized. Please login again."};nt.dispatch("notification/addNotification",r),n("/login")}}var Wn=Mn,Hn=n("2896"),Xn=n.n(Hn),Jn=n("9483");Object(Jn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("40d9");var Qn=n("1dce"),Zn=n.n(Qn),tr=function(t){var e=new Date(t);return e.toLocaleDateString(["en-US"],{weekday:"short",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},er=function(t){return t?"Rp. "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):""},nr=function(t){return t?t.toLowerCase().replace(/\b[a-z]/g,function(t){return t.toUpperCase()}):""},rr=function(t,e){return t.length>=e?t.substring(0,e)+"...":t};r["a"].use(Zn.a),r["a"].use(Xn.a,{componentName:"Croppa"}),r["a"].filter("dateFormatter",tr),r["a"].filter("priceFormatter",er),r["a"].filter("textFormatter",nr),r["a"].filter("trimTextFormatter",rr),r["a"].config.productionTip=!1,new r["a"]({router:Wn,store:nt,render:function(t){return t(Ot)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5e27":function(t,e,n){},"5eaf":function(t,e,n){"use strict";var r=n("d2f7"),a=n.n(r);a.a},6037:function(t,e,n){"use strict";var r=n("bdfc"),a=n.n(r);a.a},"6c98":function(t,e,n){},"7b03":function(t,e,n){},"7b4a":function(t,e,n){"use strict";var r=n("9350"),a=n.n(r);a.a},"7e8c":function(t,e,n){"use strict";var r=n("4e3a"),a=n.n(r);a.a},"8c83":function(t,e,n){"use strict";var r=n("19ce"),a=n.n(r);a.a},"92b2":function(t,e,n){},9350:function(t,e,n){},"97dc":function(t,e,n){"use strict";var r=n("6c98"),a=n.n(r);a.a},"9d64":function(t,e,n){t.exports=n.p+"img/logo.e9f027d2.png"},a5d1:function(t,e,n){"use strict";var r=n("c2fe"),a=n.n(r);a.a},a7d7:function(t,e,n){"use strict";var r=n("b5ba"),a=n.n(r);a.a},af1e:function(t,e,n){},b5b2:function(t,e,n){"use strict";var r=n("d7d9"),a=n.n(r);a.a},b5ba:function(t,e,n){},b6ab:function(t,e,n){},b9c2:function(t,e,n){"use strict";var r=n("fe79"),a=n.n(r);a.a},bdfc:function(t,e,n){},c2d5:function(t,e,n){"use strict";var r=n("4268"),a=n.n(r);a.a},c2fe:function(t,e,n){},c94c:function(t,e,n){"use strict";var r=n("f27b"),a=n.n(r);a.a},d2f7:function(t,e,n){},d640:function(t,e,n){"use strict";var r=n("af1e"),a=n.n(r);a.a},d7d9:function(t,e,n){},d852:function(t,e,n){},d8a6:function(t,e,n){"use strict";var r=n("b6ab"),a=n.n(r);a.a},e146:function(t,e,n){"use strict";var r=n("92b2"),a=n.n(r);a.a},e376:function(t,e,n){},f121:function(t,e,n){var r="http://localhost:9095";t.exports={api:{transactions:{transaction:"".concat(r,"/api/transactions")},users:{user:"".concat(r,"/api/admin/users"),report:"".concat(r,"/api/users/report"),personalUser:"".concat(r,"/api/users")},auth:{login:"".concat(r,"/api/login"),logout:"".concat(r,"/api/logout")}}}},f27b:function(t,e,n){},f8d7:function(t,e,n){"use strict";var r=n("7b03"),a=n.n(r);a.a},fe79:function(t,e,n){}});
//# sourceMappingURL=app.be693ac5.js.map